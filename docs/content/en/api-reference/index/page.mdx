---
title: API Reference Overview
description: API reference for dmn global object
asIndexPage: true
---

# API Reference

All plugins access DM Note features through the `dmn` global object.

## Namespace Structure

| Namespace                                      | Description                      |
| ---------------------------------------------- | -------------------------------- |
| [`dmn.app`](/docs/api-reference/app)           | App boot, restart, external URL  |
| [`dmn.window`](/docs/api-reference/app#window) | Window type, minimize, close     |
| [`dmn.keys`](/docs/api-reference/keys)         | Key mapping, events, custom tabs |
| [`dmn.settings`](/docs/api-reference/settings) | App settings get/set             |
| [`dmn.overlay`](/docs/api-reference/overlay)   | Overlay control                  |
| [`dmn.css`](/docs/api-reference/css-js#css)    | CSS custom code                  |
| [`dmn.js`](/docs/api-reference/css-js#js)      | JS plugin management             |
| [`dmn.presets`](/docs/api-reference/presets)   | Preset save/load                 |
| [`dmn.bridge`](/docs/bridge)                   | Window communication             |
| [`dmn.i18n`](/docs/api-reference/i18n)         | i18n                             |
| [`dmn.plugin`](/docs/api-reference/plugin)     | Plugin API                       |
| [`dmn.ui`](/docs/ui-api)                       | UI extensions                    |

## Quick Start

```javascript
// Get app bootstrap data
const bootstrap = await dmn.app.bootstrap();
console.log("Current mode:", bootstrap.selectedKeyType);
console.log("Settings:", bootstrap.settings);

// Subscribe to key events (overlay only)
const unsub = dmn.keys.onKeyState(({ key, state, mode }) => {
  console.log(`[${mode}] ${key} is ${state}`);
});

// Watch settings changes
dmn.settings.onChanged(({ changed, full }) => {
  console.log("Settings changed:", changed);
});

// Cleanup
dmn.plugin.registerCleanup(() => {
  unsub();
});
```

## Common Types

### Unsubscribe

Event unsubscribe function. Returned by `on*` methods.

```typescript
type Unsubscribe = () => void;

// Usage
const unsub = dmn.keys.onModeChanged(({ mode }) => {
  console.log(mode);
});

// Unsubscribe later
unsub();
```

## Notes

1. **Async operations**: Most APIs return `Promise`. Use `await` or `.then()`.

2. **Unsubscribe**: Always unsubscribe from events during cleanup.

3. **Window type**: `keys:state` events are only received in **overlay window**.

4. **Main-only API**: `dmn.ui` only works in main window.
